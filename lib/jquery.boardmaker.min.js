(function(){!function(a){var b,c;return b={width:!1,height:!1,wrap:".bm-wrap",ul:".bm-ul",li:".bm-li",index:0,zIndex:0,type:"slide",time:360,margin:60,cssSupport:!0,touchSupport:!0,navigation:{active:!0,nextClass:"bm-next",prevClass:"bm-prev"},pagination:{active:!0,wrapClass:"bm-jump-wrap",jumpClass:"bm-jump"},callback:{complete:function(){},before:function(){},after:function(){}}},c=function(){var a,b,c,d,e,f;for(b=(document.body||document.documentElement).style,c="transition",d=["Webkit","Moz","Khtml","O","ms"],c=c.charAt(0).toUpperCase()+c.substr(1),a=e=0,f=d.length;f>=0?f>e:e>f;a=f>=0?++e:--e)if("string"==typeof b[d[a]+c])return d[a];return!1},a.extend(a.easing,{easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}}),a.fn.boardmake=function(d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this;if(null==d&&(d={}),!(1>this.size())){if(e=!1,t=a.extend({},b,d),m=this.find(t.wrap),l=this.find(t.ul),f=this.find(t.li),0===m.size())return console.error("no wrap, boardmaker aborted ("+t.wrap+")");if(0===l.size())return console.error("no ul, boardmaker aborted ("+t.ul+")");if(this.data("bm:current",t.index),this.data("bm:prefix",c()),"slide"!==(x=t.type)&&"none"!==x&&(t.type="none"),n=parseInt(this.css("zIndex"),10),isNaN(n)&&(n=t.zIndex),"relative"!==(y=this.css("position"))&&"absolute"!==y&&"fixed"!==y&&(this.css("position","relative"),this.css("zIndex",n)),"relative"!==(z=m.css("position"))&&"absolute"!==z&&"fixed"!==z&&(m.css("position","relative"),m.css("zIndex",n+1)),m.css("overflow","hidden"),f.each(function(b,c){return a(c).attr("data-bm-index",b),b!==t.start?a(c).hide():void 0}),this.data("bm:length",i=f.size()),i<=t.index&&(t.index=i-1,this.data("bm:current",i-1)),r=t.width,q=t.height,p=function(b,c){return m.css("width",r=b),m.css("height",q=c),f.each(function(d,e){return a(e).show().css({margin:"0 "+t.margin+" 0 0",padding:0,position:"absolute",top:0,left:(b+t.margin)*d,bottom:0,width:b,height:c})}),l.css({position:"absolute",top:0,left:0,right:0,bottom:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:-1*(b+t.margin)*A.data("bm:current"),padding:0,width:(b+t.margin)*(i+1),zindex:n+2}),2>i&&(g.hide(),h.hide()),2>i?k.hide():void 0},g=null,h=null,t.navigation.active&&(g=this.find("."+t.navigation.nextClass),h=this.find("."+t.navigation.prevClass),g.size()||this.append(g=a("<div>").addClass(t.navigation.nextClass)),h.size()||this.append(h=a("<div>").addClass(t.navigation.prevClass)),g.on("click",function(){return A.trigger("bm:next")}),h.on("click",function(){return A.trigger("bm:prev")}),g.css("zIndex",n+3),h.css("zIndex",n+3)),t.pagination.active){if(k=this.find("."+t.pagination.wrapClass),j=this.find("."+t.pagination.jumpClass),k.size()||this.append(k=a("<div>").addClass(t.pagination.wrapClass)),!j.size()){for(s=w=0;i>=0?i>w:w>i;s=i>=0?++w:--w)k.append(a("<div>").addClass(t.pagination.jumpClass).attr("data-bm-index",s).append(a("<a>")));j=this.find("."+t.pagination.jumpClass)}j.on("click",function(b){var c;return c=parseInt(a(b.currentTarget).attr("data-bm-index"),10),A.trigger("bm:jump",{page:c})}),k.css("zIndex",n+3)}return p(t.width,t.height),this.css({display:"block",visibility:"visible"}),o=function(){var a,b,c;return t.cssSupport&&(b=A.data("bm:prefix"))?(c=""+b+"Transition",a="cubic-bezier(0.215, 0.610, 0.355, 1.000)",l.css(c,"margin-left "+t.time/1e3+"s "+a)):void 0},v=function(){var a,b;return t.cssSupport&&(a=A.data("bm:prefix"))?(b=""+a+"Transition",l.css(b,"")):void 0},this.on("bm:last",function(){return A.trigger("bm:jump",{page:i-1})}),this.on("bm:first",function(){return A.trigger("bm:jump",{page:0})}),this.on("bm:next",function(){var a;return a=A.data("bm:current")+1,a>i-1&&(a=0),A.trigger("bm:jump",{page:a})}),this.on("bm:prev",function(){var a;return a=A.data("bm:current")-1,0>a&&(a=i-1),A.trigger("bm:jump",{page:a})}),this.on("bm:jump",function(b,c){var d,g,h,i,k,m,n,o,p,q;for(c.callback||(c.callback=function(){}),m=c.page,o=A.data("bm:current"),k=m,null===o&&(o=0),g=f.filter("[data-bm-index="+o+"]"),d=f.filter("[data-bm-index="+k+"]"),j.find("a").removeClass("active"),p=0,q=j.length;q>p;p++)i=j[p],i=a(i),k===parseInt(i.attr("data-bm-index"),10)&&i.find("a").addClass("active");switch(e&&t.callback.before(k),t.type){case"slide":t.cssSupport&&(n=A.data("bm:prefix"))?(h=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"],l.off(h.join(" ")),l.on(h.join(" "),function(){return e?(t.callback.after(k),c.callback()):void 0}),l.css({marginLeft:-1*(r+t.margin)*k}),e||window.setTimeout(function(){return c.callback()},t.time)):l.stop().animate({marginLeft:-1*(r+t.margin)*k},{duration:t.time,easing:"easeOutCubic",complete:function(){return e&&t.callback.after(k),c.callback()}});break;case"none":l.stop().css({marginLeft:-1*(r+t.margin)*k}),e&&t.callback.after(k),c.callback()}return A.data("bm:current",k)}),t.touchSupport&&(this.on("touchstart",function(a){var b;return a.stopPropagation(),b=a.originalEvent.touches[0],A.data("bm:touchstartx",b.pageX),A.data("bm:touchstarty",b.pageY),A.data("bm:touchstart",parseInt(l.css("marginLeft"),10)),v()}),this.on("touchmove",function(a){var b,c,d,e,f;return a.stopPropagation(),e=a.originalEvent.touches[0],c=Math.abs(e.pageX-A.data("bm:touchstartx")),d=Math.abs(e.pageY-A.data("bm:touchstarty")),A.data("bm:scrolling",b=d>c),b?void 0:(f=e.pageX-A.data("bm:touchstartx"),l.css("marginLeft",A.data("bm:touchstart")+f))}),this.on("touchend",function(a){var b,c;return a.stopPropagation(),c=a.originalEvent.touches[0],c||(c=a.originalEvent.changedTouches[0]),o(),b=c.pageX-A.data("bm:touchstartx"),r*-.3>b?i-1<A.data("bm:current")?A.trigger("bm:next"):A.trigger("bm:last"):b>.3*r?0<A.data("bm:current")?A.trigger("bm:prev"):A.trigger("bm:first"):A.trigger("bm:jump",{page:A.data("bm:current")})})),u=t.width,this.on("bm:update",function(){var a,b;return b=A.width(),u!==b?(a=b*(t.height/t.width),u=b,p(b,a)):void 0}),window.setTimeout(function(){return A.trigger("bm:update"),A.trigger("bm:jump",{page:A.data("bm:current"),callback:function(){return o(),e=!0,t.callback.complete()}}),a(window).on("resize",function(){return A.trigger("bm:update")})}),this}}}(jQuery)}).call(this);